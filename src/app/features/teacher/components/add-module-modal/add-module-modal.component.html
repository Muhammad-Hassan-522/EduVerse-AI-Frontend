<div
  class="fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center p-4 z-50"
  (click)="onOverlayClick($event)"
>
  <div
    class="bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden"
    (click)="$event.stopPropagation()"
  >
    <!-- Header -->
    <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
      <h2 class="text-xl font-semibold text-slate-800">
        {{ isEditMode ? 'Edit Module' : 'Add Module' }}
      </h2>
      <button
        type="button"
        class="text-gray-400 hover:text-gray-600 transition-colors"
        (click)="onClose()"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    <!-- Body -->
    <div class="p-6 space-y-4">
      <!-- Module Title -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">
          Module Title <span class="text-red-500">*</span>
        </label>
        <input
          type="text"
          [(ngModel)]="title"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
          placeholder="e.g., Introduction to Design Tokens"
          [class.border-red-500]="title.length > 0 && title.length < 3"
        />
        <p *ngIf="title.length > 0 && title.length < 3" class="mt-1 text-xs text-red-500">
          Title must be at least 3 characters
        </p>
      </div>

      <!-- Module Description -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">
          Description (Optional)
        </label>
        <textarea
          [(ngModel)]="description"
          rows="3"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none"
          placeholder="Describe what students will learn in this module..."
        ></textarea>
      </div>
    </div>

    <!-- Footer -->
    <div class="flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50">
      <button
        type="button"
        class="px-4 py-2 rounded-lg text-gray-600 bg-gray-200 hover:bg-gray-300 transition-colors"
        (click)="onClose()"
      >
        Cancel
      </button>
      <button
        type="button"
        [disabled]="!isValid"
        class="px-4 py-2 rounded-lg text-white bg-blue-950 hover:bg-blue-900 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed"
        (click)="onSave()"
      >
        {{ isEditMode ? 'Update Module' : 'Add Module' }}
      </button>
    </div>
  </div>
</div>
